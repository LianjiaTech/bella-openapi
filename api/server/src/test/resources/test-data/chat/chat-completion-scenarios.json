{
  "chatCompletionRequests": [
    {
      "scenarioName": "基础聊天完成请求",
      "description": "使用标准消息格式的基础聊天完成请求",
      "request": {
        "model": "gpt-4o",
        "messages": [
          {
            "role": "system",
            "content": "你是一个有帮助的助手。"
          },
          {
            "role": "user",
            "content": "你好，请介绍一下自己。"
          }
        ],
        "temperature": 0.7,
        "stream": false
      },
      "expectedResponse": {
        "id": "chatcmpl-123",
        "object": "chat.completion",
        "created": 1677652288,
        "model": "gpt-4o",
        "system_fingerprint": "fp_44709d6fcb",
        "choices": [
          {
            "index": 0,
            "message": {
              "role": "assistant",
              "content": "你好！我是一个AI助手，可以帮助您回答问题和提供信息。",
              "reasoning_content": "用户用中文问候，我应该用中文回复并简单介绍自己。"
            },
            "finish_reason": "stop"
          }
        ],
        "usage": {
          "prompt_tokens": 20,
          "completion_tokens": 15,
          "total_tokens": 35
        }
      },
      "mockChannel": {
        "protocol": "openai",
        "url": "https://api.openai.com/v1",
        "channelInfo": "{\"encodingType\": \"json\"}"
      },
      "parameterValidations": [
        {
          "field": "model",
          "rule": "not_null",
          "expectedValue": null
        },
        {
          "field": "messages",
          "rule": "not_empty",
          "expectedValue": null
        }
      ],
      "customValidations": [
        {
          "type": "choices_not_empty"
        },
        {
          "type": "usage_validation"
        }
      ]
    },
    {
      "scenarioName": "多模型回退请求",
      "description": "使用多个模型的回退机制请求",
      "request": {
        "model": "gpt-4o, gpt-3.5-turbo, claude-3",
        "messages": [
          {
            "role": "user",
            "content": "解释一下量子计算的基本原理"
          }
        ],
        "temperature": 0.5,
        "max_tokens": 1000
      },
      "expectedResponse": {
        "id": "chatcmpl-456",
        "object": "chat.completion",
        "created": 1677652300,
        "model": "gpt-4o",
        "choices": [
          {
            "index": 0,
            "message": {
              "role": "assistant",
              "content": "量子计算是基于量子力学原理的计算方式..."
            },
            "finish_reason": "stop"
          }
        ],
        "usage": {
          "prompt_tokens": 15,
          "completion_tokens": 200,
          "total_tokens": 215
        }
      },
      "mockChannel": {
        "protocol": "openai",
        "url": "https://api.openai.com/v1",
        "channelInfo": "{\"encodingType\": \"json\"}"
      },
      "parameterValidations": [
        {
          "field": "model",
          "rule": "not_null",
          "expectedValue": null
        }
      ],
      "customValidations": [
        {
          "type": "choices_not_empty"
        }
      ]
    },
    {
      "scenarioName": "工具调用请求",
      "description": "包含工具调用功能的聊天完成请求",
      "request": {
        "model": "gpt-4o",
        "messages": [
          {
            "role": "user",
            "content": "北京今天的天气怎么样？"
          }
        ],
        "tools": [
          {
            "type": "function",
            "function": {
              "name": "get_weather",
              "description": "获取指定城市的天气信息",
              "parameters": {
                "type": "object",
                "properties": {
                  "location": {
                    "type": "string",
                    "description": "城市名称，如北京、上海"
                  },
                  "unit": {
                    "type": "string",
                    "enum": ["celsius", "fahrenheit"],
                    "description": "温度单位"
                  }
                },
                "required": ["location"]
              },
              "strict": true
            }
          }
        ],
        "tool_choice": "auto"
      },
      "expectedResponse": {
        "id": "chatcmpl-789",
        "object": "chat.completion",
        "created": 1677652400,
        "model": "gpt-4o",
        "choices": [
          {
            "index": 0,
            "message": {
              "role": "assistant",
              "content": null,
              "reasoning_content": "用户询问北京的天气，我需要调用天气查询工具。",
              "tool_calls": [
                {
                  "id": "call_abc123",
                  "type": "function",
                  "function": {
                    "name": "get_weather",
                    "arguments": "{\"location\":\"北京\",\"unit\":\"celsius\"}"
                  }
                }
              ]
            },
            "finish_reason": "tool_calls"
          }
        ],
        "usage": {
          "prompt_tokens": 82,
          "completion_tokens": 25,
          "total_tokens": 107
        }
      },
      "mockChannel": {
        "protocol": "openai",
        "url": "https://api.openai.com/v1",
        "channelInfo": "{\"encodingType\": \"json\"}"
      },
      "parameterValidations": [
        {
          "field": "tools",
          "rule": "not_empty",
          "expectedValue": null
        }
      ],
      "customValidations": [
        {
          "type": "tool_calls_validation"
        }
      ]
    },
    {
      "scenarioName": "图片输入请求",
      "description": "包含图片内容的多模态聊天请求",
      "request": {
        "model": "gpt-4o",
        "messages": [
          {
            "role": "user",
            "content": [
              {
                "type": "text",
                "text": "这张图片是什么内容？"
              },
              {
                "type": "image_url",
                "image_url": {
                  "url": "https://example.com/image.jpg",
                  "detail": "high"
                }
              }
            ]
          }
        ],
        "max_tokens": 300
      },
      "expectedResponse": {
        "id": "chatcmpl-101112",
        "object": "chat.completion",
        "created": 1677652500,
        "model": "gpt-4o",
        "choices": [
          {
            "index": 0,
            "message": {
              "role": "assistant",
              "content": "这张图片展示了一只橙色的猫咪坐在窗台上...",
              "reasoning_content": "图片中显示了一只猫咪，我需要详细描述我看到的内容。"
            },
            "finish_reason": "stop"
          }
        ],
        "usage": {
          "prompt_tokens": 1042,
          "completion_tokens": 65,
          "total_tokens": 1107
        }
      },
      "mockChannel": {
        "protocol": "openai",
        "url": "https://api.openai.com/v1",
        "channelInfo": "{\"encodingType\": \"json\"}"
      },
      "parameterValidations": [
        {
          "field": "messages",
          "rule": "not_empty",
          "expectedValue": null
        }
      ],
      "customValidations": [
        {
          "type": "multimodal_validation"
        }
      ]
    },
    {
      "scenarioName": "流式响应请求",
      "description": "启用流式响应的聊天完成请求",
      "request": {
        "model": "gpt-3.5-turbo",
        "messages": [
          {
            "role": "user",
            "content": "写一首关于春天的诗"
          }
        ],
        "stream": true,
        "temperature": 0.8
      },
      "expectedResponse": {
        "id": "chatcmpl-stream-123",
        "object": "chat.completion.chunk",
        "created": 1677652600,
        "model": "gpt-3.5-turbo",
        "choices": [
          {
            "index": 0,
            "delta": {
              "role": "assistant",
              "content": "春风轻拂柳絮飞"
            },
            "finish_reason": null
          }
        ]
      },
      "mockChannel": {
        "protocol": "openai",
        "url": "https://api.openai.com/v1",
        "channelInfo": "{\"encodingType\": \"json\"}"
      },
      "parameterValidations": [
        {
          "field": "stream",
          "rule": "equals",
          "expectedValue": true
        }
      ],
      "customValidations": [
        {
          "type": "stream_response_validation"
        }
      ]
    },
    {
      "scenarioName": "最小化请求",
      "description": "仅包含必需字段的最小化聊天请求",
      "request": {
        "model": "gpt-3.5-turbo",
        "messages": [
          {
            "role": "user",
            "content": "Hello"
          }
        ]
      },
      "expectedResponse": {
        "id": "chatcmpl-minimal-001",
        "object": "chat.completion",
        "created": 1677652700,
        "model": "gpt-3.5-turbo",
        "choices": [
          {
            "index": 0,
            "message": {
              "role": "assistant",
              "content": "Hello! How can I help you today?"
            },
            "finish_reason": "stop"
          }
        ],
        "usage": {
          "prompt_tokens": 8,
          "completion_tokens": 9,
          "total_tokens": 17
        }
      },
      "mockChannel": {
        "protocol": "openai",
        "url": "https://api.openai.com/v1",
        "channelInfo": "{\"encodingType\": \"json\"}"
      },
      "parameterValidations": [
        {
          "field": "model",
          "rule": "not_null",
          "expectedValue": null
        },
        {
          "field": "messages",
          "rule": "not_empty",
          "expectedValue": null
        }
      ],
      "customValidations": [
        {
          "type": "basic_response_validation"
        }
      ]
    }
  ]
}